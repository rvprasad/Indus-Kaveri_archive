<project>
    <property file="localbuild.properties"/>
    <property file="antbuild.properties"/>
    <property name="package" value="edu.ksu.cis.indus"/>
    <property name="ant.project.name" value="indus.javaslicer"/>

    <condition property="custombuild.exists">
        <equals arg1="${ant.project.name}" arg2="indus.javaslicer"/>
    </condition>

    <path id="indus.javaslicer.docsrcpath">
    	<pathelement location="../JavaSlicer/src"/>
    	<pathelement location="../JavaSlicer/src-xml"/>
    </path>

    <path id="indus.javaslicer.srcpath">
        <path refid="indus.javaslicer.docsrcpath"/>
    	<pathelement location="../JavaSlicer/src-test"/>
    </path>
    
    <path id="indus.javaslicer.classpath">
        <pathelement location="${jars.dir}/sootclasses.jar"/>
        <pathelement location="${jars.dir}/junit.jar"/>
        <pathelement location="${jars.dir}/jibx-run.jar"/>
        <pathelement location="${jars.dir}/xpp3.jar"/>  
        <pathelement location="${jars.dir}/commons-cli.jar"/>
        <pathelement location="${jars.dir}/commons-logging-api.jar"/>
        <pathelement location="${jars.dir}/commons-pool.jar"/>
        <pathelement location="${jars.dir}/commons-lang.jar"/>
        <pathelement location="${jars.dir}/commons-collections.jar"/>
        <pathelement location="${banderaCommons.jars.dir}/banderaCommons.jar"/>        
        <pathelement location="${banderaFramework.jars.dir}/banderaToolFramework.jar"/>
        <pathelement location="${jars.dir}/swt/swt.jar"/>
        <pathelement location="${jars.dir}/xmlunit.jar"/>
        <pathelement location="${jars.dir}/xmlenc.jar"/>
    	<pathelement location="../Indus/${build.dir}/"/>
	    <pathelement location="../StaticAnalyses/${build.dir}/"/>        
    </path>    
    
    <path id="bind.classpath">
      <pathelement location="${jars.dir}/bcel.jar"/>
      <pathelement location="${jars.dir}/jibx-bind.jar"/>
      <pathelement location="${jars.dir}/jibx-run.jar"/>
      <pathelement location="${jars.dir}/xpp3.jar"/>  
    </path>
   
    <taskdef name="bind" classname="org.jibx.binding.ant.CompileTask">
       <classpath refid="bind.classpath"/>
     </taskdef>
  
    <target name="bind">
        <bind verbose="true" binding="${basedir}/auxiliary/slicerConfig_JiBXBinding.xml">
        	<classpath>
        		<path refid="bind.classpath"/>
	        	<pathelement location="../Indus/${build.dir}/"/>
    	        <pathelement location="${build.dir}"/>
        	</classpath>
        </bind>
    </target>
    
    <target name="custombuild">
        <antcall target="bind"/>
    </target>
</project>
